{"version":3,"sources":["webpack:///./public/src/components/menu/index.less","webpack:///./public/src/components/cache-component/index.js","webpack:///./public/src/components/menu/index.js","webpack:///./public/src/components/menu/index.less?d7f0","webpack:///./public/src/pages/main/index.js"],"names":["CacheComponent","props","state","component","C","render","PureComponent","propTypes","PropTypes","oneOfType","node","element","func","bool","object","Menu","children","classPrefixer","defaultSelected","Children","map","child","i","classes","classNames","key","fixed","style","fixedStyle","position","top","left","width","zIndex","className","initStyle","renderChild","isRequired","string","mapStateToProps","menus","mapDispatchToProps","dispatch","menuChange","path","type","selected","App","connect","immutableRenderDecorator","location","selectedChange","pathname","includes","w","document","documentElement","getBoundingClientRect","fontSize","data","d","bind","name","routes","isTop","setState","history","push","color","renderMenu","onChange","renderContent","Component"],"mappings":"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","file":"2.js","sourcesContent":["exports = module.exports = require(\"../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \".menu {\\n  width: 100%;\\n  background: white;\\n  -webkit-box-shadow: 0 0.09375rem 0.09375rem 0 #f4f4f4;\\n  box-shadow: 0 0.09375rem 0.09375rem 0 #f4f4f4;\\n}\\n.menu-wrap {\\n  display: table;\\n  width: 100%;\\n}\\n.menu-item {\\n  display: table-cell;\\n  width: 1%;\\n  text-align: center;\\n}\\n.menu-item-active {\\n  border-bottom: 0.1875rem solid #26a2ff;\\n  color: #26a2ff;\\n  font-weight: 600;\\n}\\n.menu-link {\\n  display: block;\\n  color: rgba(0, 0, 0, 0.8);\\n  width: 100%;\\n  height: 100%;\\n  border-bottom: 0.1875rem solid rgba(255, 255, 255, 0);\\n  padding: 0.625rem;\\n}\\n.menu-link-active {\\n  border-bottom: 0.1875rem solid #26a2ff;\\n  color: #26a2ff;\\n  font-weight: 600;\\n}\\n\", \"\"]);\n\n// exports\n","import React,{PureComponent} from 'react'\r\nimport PropTypes from 'prop-types'\r\n\r\nclass CacheComponent extends PureComponent{\r\n\tconstructor(props){\r\n\t\tsuper(props)\r\n\t\tthis.state = {\r\n\t\t\tcomponent:props.component\r\n\t\t}\r\n\t}\r\n\trender(){\r\n\t\tconst {component:C} = this.state\r\n\t\tconst {state,render} = this.props\r\n\t\treturn render ? <C {...state} /> : null\r\n\t}\r\n}\r\n\r\nCacheComponent.propTypes = {\r\n\tcomponent:PropTypes.oneOfType([\r\n\t\tPropTypes.node,\r\n\t\tPropTypes.element,\r\n\t\tPropTypes.func\r\n\t]),\r\n\trender:PropTypes.bool,\r\n\tstate:PropTypes.object\r\n}\r\n\r\nexport default CacheComponent","import React,{PureComponent,Children} from 'react'\r\nimport classNames from 'classnames'\r\nimport PropTypes from 'prop-types'\r\nimport './index.less'\r\n\r\nclass Menu extends PureComponent{\r\n\tstatic defaultProps = {\r\n\t\tclassPrefixer:'menu',\r\n\t\tdefaultSelected:''\r\n\t}\r\n\trenderChild = () => {\r\n\t\tconst {children,classPrefixer,defaultSelected} = this.props\r\n\t\treturn Children.map(children,(child,i) => {\r\n\t\t\tconst classes = classNames({\r\n\t\t\t\t[`${classPrefixer}-item`]:true,\r\n\t\t\t\t[`${classPrefixer}-item-active`]:defaultSelected === child.key\r\n\t\t\t})\r\n\t\t\treturn (\r\n\t\t\t\t<li key={i} className={classes}>\r\n\t\t\t\t\t{child}\r\n\t\t\t\t</li>\r\n\t\t\t)\r\n\t\t})\r\n\t}\r\n\tinitStyle = () => {\r\n\t\tconst {fixed,style} = this.props\r\n\t\tconst fixedStyle = {\r\n\t\t\tposition:'fixed',\r\n\t\t\ttop:0,\r\n\t\t\tleft:0,\r\n\t\t\twidth:'100%',\r\n\t\t\tzIndex:99\r\n\t\t}\r\n\t\treturn fixed\r\n\t\t? {\r\n\t\t\t...fixedStyle,\r\n\t\t\t...style\r\n\t\t} \r\n\t\t: style\r\n\t}\r\n\trender(){\r\n\t\tconst {classPrefixer,className} = this.props\r\n\t\tconst classes = classNames(classPrefixer,className)\r\n\r\n\t\treturn(\r\n\t\t\t<div style={this.initStyle()} className={classes}>\r\n\t\t\t\t<ul className={`${classPrefixer}-wrap`}>\r\n\t\t\t\t\t{this.renderChild()}\r\n\t\t\t\t</ul>\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nMenu.propTypes = {\r\n\tchildren:PropTypes.oneOfType([\r\n\t\tPropTypes.node,\r\n\t\tPropTypes.element\r\n\t]).isRequired,\r\n\tclassName:PropTypes.string,\r\n\tfixed:PropTypes.bool\r\n}\r\n\r\nexport default Menu","\nvar content = require(\"!!../../../../node_modules/css-loader/index.js!../../../../node_modules/less-loader/dist/cjs.js!../../../../node_modules/postcss-loader/src/index.js??postcss!./index.less\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../../../node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../../../node_modules/css-loader/index.js!../../../../node_modules/less-loader/dist/cjs.js!../../../../node_modules/postcss-loader/src/index.js??postcss!./index.less\", function() {\n\t\tvar newContent = require(\"!!../../../../node_modules/css-loader/index.js!../../../../node_modules/less-loader/dist/cjs.js!../../../../node_modules/postcss-loader/src/index.js??postcss!./index.less\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","import React,{Component} from 'react'\r\nimport {connect} from 'react-redux'\r\nimport {HashRouter as Router,NavLink,Redirect,Route} from 'react-router-dom'\r\nimport { immutableRenderDecorator } from 'react-immutable-render-mixin'\r\nimport Icon from '../../components/icon'\r\nimport Authorized from '../../components/authorized'\r\nimport Menu from '../../components/menu'\r\nimport Player from '../../components/player'\r\nimport Swiper from '../../components/swiper'\r\nimport CacheComponent from '../../components/cache-component'\r\nimport Header from '../../components/header'\r\n\r\n\r\nconst mapStateToProps = ({menus}) => ({menus})\r\nconst mapDispatchToProps = dispatch => ({\r\n\tmenuChange:path => {\r\n\t\tdispatch({\r\n\t\t\ttype:'UPDATE_MENU_SELECTED',\r\n\t\t\tselected:path\r\n\t\t})\r\n\t}\r\n})\r\n\r\n@immutableRenderDecorator\r\n@connect(mapStateToProps,mapDispatchToProps)\r\nclass App extends Component{\r\n\tconstructor(props){\r\n\t\tsuper(props)\r\n\t\tthis.state = {\r\n\t\t\tisTop:''\r\n\t\t}\r\n\t}\r\n\tcomponentDidMount = () => {\r\n\t\tconst {location} = this.props\r\n\t\tthis.selectedChange(location.pathname)\r\n\t}\r\n\tselectedChange = path => {\r\n\t\tconst {menus:{selected},menuChange} = this.props\r\n\t\tif(!selected.includes(path)){\r\n\t\t\tmenuChange(path)\r\n\t\t}\r\n\t}\r\n\thandleResize = () => {\r\n\t\tvar w = document.documentElement.getBoundingClientRect().width\r\n        document.documentElement.style.fontSize = w / 25 + 'px'\r\n\t}\r\n\trenderMenu = () => {\r\n\t\tconst {menus:{data},location} = this.props\r\n\t\treturn data.map((d,i) => (\r\n\t\t\t<NavLink onClick={this.selectedChange.bind(this,d.path)} className=\"menu-link\" activeClassName=\"menu-link-active\" to={d.path} key={d.key}>\r\n\t\t\t\t{d.name}\r\n\t\t\t</NavLink>\r\n\t\t))\r\n\t}\r\n\trenderContent = () => {\r\n\t\tconst {routes,menus:{selected}} = this.props\r\n\t\tconst {isTop} = this.state\r\n\t\treturn (\r\n\t\t\troutes.map((d,i) => {\r\n\t\t\t\treturn (\r\n\t\t\t\t\t<CacheComponent key={d.path} state={{isTop:isTop !== d.path}} render={selected.includes(d.path)} component={d.component} />\r\n\t\t\t\t)\r\n\t\t\t})\r\n\t\t)\r\n\t}\r\n\tonChange = key => {\r\n\t\tconst {pathname} = this.props.location\r\n\t\tif(pathname !== key){\r\n\t\t\tthis.setState({\r\n\t\t\t\tisTop:key\r\n\t\t\t})\r\n\t\t\tthis.selectedChange(key)\r\n\t\t\tthis.props.history.push(key)\r\n\t\t}\r\n\t}\r\n\trender(){\r\n\t\tconst {location} = this.props\r\n\t\treturn(\r\n\t\t\t<div className=\"main\">\r\n\t\t\t\t<Header \r\n\t\t\t\t\tfixed={true}\r\n\t\t\t\t\tlogo={(\r\n\t\t\t\t\t\t<img src=\"http://m.kugou.com/v3/static/images/index/logo.png\" alt=\"logo\"/>\r\n\t\t\t\t\t)} \r\n\t\t\t\t\textra={(\r\n\t\t\t\t\t\t<NavLink to=\"/search\">\r\n\t\t\t\t\t\t\t<Icon style={{fontSize:18,color:'white'}} type=\"search\" />\r\n\t\t\t\t\t\t</NavLink>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t/>\r\n\t\t\t\t<Menu fixed={true}  style={{top:'3.125rem'}}>\r\n\t\t\t\t\t{this.renderMenu()}\r\n\t\t\t\t</Menu>\r\n\t\t\t\t<Swiper timeout={200} overflowScale={.25} onChange={this.onChange} defaultSelected={location.pathname}>\r\n\t\t\t\t\t\t{this.renderContent()}\r\n\t\t\t\t</Swiper>\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n}\r\n\r\n\r\nexport default App"],"sourceRoot":""}
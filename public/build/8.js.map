{"version":3,"sources":["webpack:///./public/src/pages/search/index.js"],"names":["Search","connect","_ref","hotLists","search","dispatch","getHotList","type","searchRequest","keyword","_this$props","_this","props","length","ev","setState","target","value","history","go","state","this","_this$props2","routes","react__WEBPACK_IMPORTED_MODULE_7___default","a","createElement","className","_components_icon__WEBPACK_IMPORTED_MODULE_10__","onClick","handleBack","placeholder","onChange","valueChange","handleSearch","_components_authorized__WEBPACK_IMPORTED_MODULE_12__","_components_player__WEBPACK_IMPORTED_MODULE_11__","Component"],"mappings":"4SAyBMA,UADLC,YAfuB,SAAAC,GAAA,MAA0B,CAACC,SAA3BD,EAAEE,OAAQD,WACP,SAAAE,GAAQ,MAAK,CACvCC,WAAW,WACVD,EAAS,CACRE,KAAK,yBAGPC,cAAc,SAAAC,GACbJ,EAAS,CACRE,KAAK,iBACLE,4NAOM,CACPA,QAAQ,yCAEW,WAAM,IAAAC,EACKC,EAAKC,MAA5BT,EADkBO,EAClBP,SAASG,EADSI,EACTJ,WACZH,EAASU,QACZP,oCAGY,SAAAQ,GACbH,EAAKI,SAAS,CACbN,QAAQK,EAAGE,OAAOC,uCAGP,WACMN,EAAKC,MAAhBM,QACCC,IAAI,oCAEE,WAAM,IACbX,EAAiBG,EAAKC,MAAtBJ,cACAC,EAAWE,EAAKS,MAAhBX,QACJA,GACFD,EAAcC,6DAGR,IACAA,EAAWY,KAAKD,MAAhBX,QADAa,EAEmBD,KAAKT,MAAxBW,EAFAD,EAEAC,OAFAD,EAEOnB,SACd,OACCqB,EAAAC,EAAAC,cAAA,OAAKC,UAAU,UACdH,EAAAC,EAAAC,cAAA,UAAQC,UAAU,eACjBH,EAAAC,EAAAC,cAACE,EAAA,EAAD,CAAMC,QAASR,KAAKS,WAAYvB,KAAK,eACrCiB,EAAAC,EAAAC,cAAA,SAAOK,YAAY,WAAWJ,UAAU,eAAeK,SAAUX,KAAKY,YAAahB,MAAOR,EAASF,KAAK,SACxGiB,EAAAC,EAAAC,cAAA,QAAMG,QAASR,KAAKa,aAAcP,UAAU,cAA5C,OAEDH,EAAAC,EAAAC,cAACS,EAAA,EAAD,CAAaZ,OAAQA,IACrBC,EAAAC,EAAAC,cAACU,EAAA,EAAD,cArCiBC,kBA2CNrC","file":"8.js","sourcesContent":["import React,{Component} from 'react'\r\nimport classNames from 'classnames'\r\nimport {connect} from 'react-redux'\r\nimport {NavLink} from 'react-router-dom'\r\nimport Icon from '../../components/icon'\r\nimport Player from '../../components/player'\r\nimport Authorized from '../../components/authorized'\r\nimport './index.less'\r\n\r\nconst mapStateToProps = ({search:{hotLists}}) => ({hotLists})\r\nconst mapDispatchToProps = dispatch => ({\r\n\tgetHotList:() => {\r\n\t\tdispatch({\r\n\t\t\ttype:'GET_HOT_SEARCH_LIST'\r\n\t\t})\r\n\t},\r\n\tsearchRequest:keyword => {\r\n\t\tdispatch({\r\n\t\t\ttype:'SEARCH_REQUEST',\r\n\t\t\tkeyword\r\n\t\t})\r\n\t}\r\n})\r\n\r\n@connect(mapStateToProps,mapDispatchToProps)\r\nclass Search extends Component{\r\n\tstate = {\r\n\t\tkeyword:''\r\n\t}\r\n\tcomponentDidMount = () => {\r\n\t\tconst {hotLists,getHotList} = this.props\r\n\t\tif(!hotLists.length){\r\n\t\t\tgetHotList()\r\n\t\t}\r\n\t}\r\n\tvalueChange = ev => {\r\n\t\tthis.setState({\r\n\t\t\tkeyword:ev.target.value\r\n\t\t})\r\n\t}\r\n\thandleBack = () => {\r\n\t\tconst {history} = this.props\r\n\t\thistory.go(-1)\r\n\t}\r\n\thandleSearch = () => {\r\n\t\tconst {searchRequest} = this.props\r\n\t\tconst {keyword} = this.state\r\n\t\tif(keyword){\r\n\t\t\tsearchRequest(keyword)\r\n\t\t}\r\n\t}\r\n\trender(){\r\n\t\tconst {keyword} = this.state\r\n\t\tconst {routes,hotLists} = this.props\r\n\t\treturn (\r\n\t\t\t<div className=\"search\">\r\n\t\t\t\t<header className=\"search-head\">\r\n\t\t\t\t\t<Icon onClick={this.handleBack} type=\"arrow-left\" />\r\n\t\t\t\t\t<input placeholder=\"搜索你喜欢的歌曲\" className=\"search-input\" onChange={this.valueChange} value={keyword} type=\"text\"/>\r\n\t\t\t\t\t<span onClick={this.handleSearch} className=\"search-btn\">搜索</span>\r\n\t\t\t\t</header>\r\n\t\t\t\t<Authorized  routes={routes} />\r\n\t\t\t\t<Player />\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nexport default Search"],"sourceRoot":""}
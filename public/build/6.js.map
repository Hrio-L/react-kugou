{"version":3,"sources":["webpack:///./public/src/components/input/index.js","webpack:///./public/src/pages/search/index.js"],"names":["Input","value","props","defaultValue","ev","onChange","target","setState","onFocus","this","classPrefixer","className","style","circle","icon","iconStyle","placeholder","autoFocus","classes","classNames","state","borderRadius","type","handleFocus","handleChange","PureComponent","color","propTypes","PropTypes","string","object","bool","func","Search","immutableRenderDecorator","keyword","btnState","window","addEventListener","onPress","nextProps","nextState","removeEventListener","keyCode","handleSearch","history","go","push","routes","onClick","handleBack","inputChange","placeholderChange","Component"],"mappings":"ukBAMMA,E,qMAaG,CACPC,MAAM,EAAKC,MAAMC,e,0BAEH,SAAAC,GAAM,IACbC,EAAY,EAAKH,MAAjBG,SACQJ,EAAUG,EAAlBE,OAAQL,MACf,EAAKM,SAAS,CACbN,UAEDI,GAAYA,EAASJ,K,yBAER,WAAM,IACZO,EAAW,EAAKN,MAAhBM,QACPA,GAAWA,M,0BAEG,WACd,MAAmC,oBAArB,EAAKN,MAAMD,Q,wDAElB,MAC6EQ,KAAKP,MAAlFQ,EADA,EACAA,cAAcC,EADd,EACcA,UAAUC,EADxB,EACwBA,MAAMC,EAD9B,EAC8BA,OAAOC,EADrC,EACqCA,KAAKC,EAD1C,EAC0CA,UAAUC,EADpD,EACoDA,YAAYC,EADhE,EACgEA,UACjEC,EAAUC,IAAWT,EAAcC,GAClCV,EAASQ,KAAKW,MAAdnB,MACP,OACC,yBAAKW,M,6VAAK,EAAGS,aAAaR,GAAQ,IAAMD,GAAQD,UAAWO,GACzDJ,GAAQ,kBAAC,IAAD,CAAMF,MAAOG,EAAWO,KAAMR,IACvC,2BAAON,QAASC,KAAKc,YAAaN,UAAWA,EAAWhB,MAAOA,EAAOI,SAAUI,KAAKe,aAAcR,YAAaA,EAAaM,KAAK,c,GAtClHG,iB,IAAdzB,E,eACiB,CACrBU,cAAc,QACdM,YAAY,GACZb,aAAa,GACbS,MAAM,GACNC,QAAO,EACPC,KAAK,SACLC,UAAU,CACTW,MAAM,UAEPrB,SAAS,eAiCXL,EAAM2B,UAAY,CACjBhB,UAAUiB,IAAUC,OACpB1B,aAAayB,IAAUC,OACvBb,YAAYY,IAAUC,OACtBjB,MAAMgB,IAAUE,OAChBf,UAAUa,IAAUE,OACpBjB,OAAOe,IAAUG,KACjB1B,SAASuB,IAAUI,KACnBxB,QAAQoB,IAAUI,KAClB/B,MAAM2B,IAAUC,OAChBZ,UAAUW,IAAUG,MAGN/B,I,EAAAA,IClDTiC,G,OADLC,mC,uMAEQ,CACPC,QAAQ,GACRnB,YAAY,WACZoB,SAAS,W,+BAEU,WACnBC,OAAOC,iBAAiB,UAAU,EAAKC,SAAQ,K,mCAExB,SAACC,EAAUC,GAClC,OAAGA,EAAUN,UAAY,EAAKf,MAAMe,U,kCAKd,WACtBE,OAAOK,oBAAoB,UAAU,EAAKH,SAAQ,K,qBAEzC,SAAAnC,GACS,KAAfA,EAAGuC,SACL,EAAKC,iB,wBAGM,WACM,EAAK1C,MAAhB2C,QACCC,IAAI,K,0BAEE,WAAM,IACbD,EAAW,EAAK3C,MAAhB2C,QACAV,EAAW,EAAKf,MAAhBe,QACJA,GACFU,EAAQE,KAAR,kBAAwBZ,M,yBAGZ,c,0BAGC,WACd,EAAKjC,MAAM2C,QAAQE,KAAK,a,yBAEX,SAAA9C,GACb,EAAKM,SAAS,CACb4B,QAAQlC,M,+BAGU,SAAAA,GACnB,EAAKM,SAAS,CACbS,YAAYf,M,wDAGN,IACA+C,EAAUvC,KAAKP,MAAf8C,OADA,EAEuBvC,KAAKW,MAA5Be,EAFA,EAEAA,QAAQnB,EAFR,EAEQA,YACf,OACC,yBAAKL,UAAU,UACd,4BAAQA,UAAU,eACjB,kBAAC,IAAD,CAAMsC,QAASxC,KAAKyC,WAAY5B,KAAK,eACrC,kBAAC,EAAD,CAAOd,QAASC,KAAKc,YAAcP,YAAaA,EAAaL,UAAU,eAAeV,MAAOkC,EAAStB,QAAQ,EAAMR,SAAUI,KAAK0C,cACnI,0BAAMF,QAASxC,KAAKmC,aAAcjC,UAAU,cAA5C,OAED,kBAAC,IAAD,CAAYK,YAAaA,EAAaoC,kBAAmB3C,KAAK2C,kBAAmBJ,OAAQA,IACzF,kBAAC,IAAD,W,GA7DiBK,e,GAmENpB","file":"6.js","sourcesContent":["import React,{PureComponent} from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport classNames from 'classnames'\r\nimport Icon from '../icon'\r\nimport './index.less'\r\n\r\nclass Input extends PureComponent{\r\n\tstatic defaultProps = {\r\n\t\tclassPrefixer:'input',\r\n\t\tplaceholder:'',\r\n\t\tdefaultValue:'',\r\n\t\tstyle:{},\r\n\t\tcircle:true,\r\n\t\ticon:'search',\r\n\t\ticonStyle:{\r\n\t\t\tcolor:'silver'\r\n\t\t},\r\n\t\tonChange:() => {}\r\n\t}\r\n\tstate = {\r\n\t\tvalue:this.props.defaultValue\r\n\t}\r\n\thandleChange = ev => {\r\n\t\tconst {onChange} = this.props\r\n\t\tconst {target:{value}} = ev\r\n\t\tthis.setState({\r\n\t\t\tvalue\r\n\t\t})\r\n\t\tonChange && onChange(value)\r\n\t}\r\n\thandleFocus = () => {\r\n\t\tconst {onFocus} = this.props\r\n\t\tonFocus && onFocus()\r\n\t}\r\n\thasPropValue = () => {\r\n\t\treturn typeof this.props.value !== 'undifined' \r\n\t}\r\n\trender(){\r\n\t\tconst {classPrefixer,className,style,circle,icon,iconStyle,placeholder,autoFocus} = this.props\r\n\t\tconst classes = classNames(classPrefixer,className)\r\n\t\tconst {value} = this.state\r\n\t\treturn(\r\n\t\t\t<div style={{borderRadius:circle&&20,...style}} className={classes}>\r\n\t\t\t\t{icon && <Icon style={iconStyle} type={icon} />}\r\n\t\t\t\t<input onFocus={this.handleFocus} autoFocus={autoFocus} value={value} onChange={this.handleChange} placeholder={placeholder} type=\"text\"/>\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nInput.propTypes = {\r\n\tclassName:PropTypes.string,\r\n\tdefaultValue:PropTypes.string,\r\n\tplaceholder:PropTypes.string,\r\n\tstyle:PropTypes.object,\r\n\ticonStyle:PropTypes.object,\r\n\tcircle:PropTypes.bool,\r\n\tonChange:PropTypes.func,\r\n\tonFocus:PropTypes.func,\r\n\tvalue:PropTypes.string,\r\n\tautoFocus:PropTypes.bool\r\n}\r\n\r\nexport default Input","import React,{Component} from 'react'\r\nimport classNames from 'classnames'\r\nimport {connect} from 'react-redux'\r\nimport { immutableRenderDecorator } from 'react-immutable-render-mixin'\r\nimport {NavLink} from 'react-router-dom'\r\nimport Icon from '../../components/icon'\r\nimport Player from '../../components/player'\r\nimport Authorized from '../../components/authorized'\r\nimport Input from '../../components/input'\r\nimport './index.less'\r\n\r\n\r\n@immutableRenderDecorator\r\nclass Search extends Component{\r\n\tstate = {\r\n\t\tkeyword:'',\r\n\t\tplaceholder:'歌手/歌名/拼音',\r\n\t\tbtnState:'search'\r\n\t}\r\n\tcomponentDidMount = () => {\r\n\t\twindow.addEventListener('keydown',this.onPress,false)\r\n\t}\r\n\tshouldComponentUpdate = (nextProps,nextState) => {\r\n\t\tif(nextState.keyword !== this.state.keyword){\r\n\t\t\treturn false\r\n\t\t}\r\n\t\treturn true\r\n\t}\r\n\tcomponentWillUnmount = () => {\r\n\t\twindow.removeEventListener('keydown',this.onPress,false)\r\n\t}\r\n\tonPress = ev => {\r\n\t\tif(ev.keyCode === 13){\r\n\t\t\tthis.handleSearch()\r\n\t\t}\r\n\t}\r\n\thandleBack = () => {\r\n\t\tconst {history} = this.props\r\n\t\thistory.go(-1)\r\n\t}\r\n\thandleSearch = () => {\r\n\t\tconst {history} = this.props\r\n\t\tconst {keyword} = this.state\r\n\t\tif(keyword){\r\n\t\t\thistory.push(`/search/${keyword}`)\r\n\t\t}\r\n\t}\r\n\thandleFocus = () => {\r\n\r\n\t}\r\n\thandleCancel = () => {\r\n\t\tthis.props.history.push('/search')\r\n\t}\r\n\tinputChange = value => {\r\n\t\tthis.setState({\r\n\t\t\tkeyword:value\r\n\t\t})\r\n\t}\r\n\tplaceholderChange = value => {\r\n\t\tthis.setState({\r\n\t\t\tplaceholder:value\r\n\t\t})\r\n\t}\r\n\trender(){\r\n\t\tconst {routes} = this.props\r\n\t\tconst {keyword,placeholder} = this.state\r\n\t\treturn (\r\n\t\t\t<div className=\"search\">\r\n\t\t\t\t<header className=\"search-head\">\r\n\t\t\t\t\t<Icon onClick={this.handleBack} type=\"arrow-left\" />\r\n\t\t\t\t\t<Input onFocus={this.handleFocus}  placeholder={placeholder} className=\"search-input\" value={keyword} circle={true} onChange={this.inputChange} />\r\n\t\t\t\t\t<span onClick={this.handleSearch} className=\"search-btn\">搜索</span>\r\n\t\t\t\t</header>\r\n\t\t\t\t<Authorized placeholder={placeholder} placeholderChange={this.placeholderChange} routes={routes} />\r\n\t\t\t\t<Player />\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nexport default Search"],"sourceRoot":""}
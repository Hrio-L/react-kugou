{"version":3,"sources":["webpack:///./public/src/components/input/index.js","webpack:///./public/src/pages/search/index.js"],"names":["Input","value","_this","props","defaultValue","ev","onChange","target","setState","_this$props","this","classPrefixer","className","style","circle","icon","iconStyle","placeholder","autoFocus","classes","classNames","state","react_default","a","createElement","objectSpread_default","borderRadius","components_icon","type","handleChange","PureComponent","color","propTypes","PropTypes","string","object","bool","func","Search","immutableRenderDecorator","keyword","nextProps","nextState","history","go","push","concat","routes","_this$state","onClick","handleBack","components_input","inputChange","handleSearch","authorized","placeholderChange","player","Component"],"mappings":"iXAMMA,oNAaG,CACPC,MAAMC,EAAKC,MAAMC,8CAEH,SAAAC,GAAM,IACbC,EAAYJ,EAAKC,MAAjBG,SACQL,EAAUI,EAAlBE,OAAQN,MACfC,EAAKM,SAAS,CACbP,UAEDK,GAAYA,EAASL,oCAEP,WACd,MAAmC,oBAArBC,EAAKC,MAAMF,gEAElB,IAAAQ,EAC6EC,KAAKP,MAAlFQ,EADAF,EACAE,cAAcC,EADdH,EACcG,UAAUC,EADxBJ,EACwBI,MAAMC,EAD9BL,EAC8BK,OAAOC,EADrCN,EACqCM,KAAKC,EAD1CP,EAC0CO,UAAUC,EADpDR,EACoDQ,YAAYC,EADhET,EACgES,UACjEC,EAAUC,IAAWT,EAAcC,GAClCX,EAASS,KAAKW,MAAdpB,MACP,OACCqB,EAAAC,EAAAC,cAAA,OAAKX,MAAKY,IAAA,CAAGC,aAAaZ,GAAQ,IAAMD,GAAQD,UAAWO,GACzDJ,GAAQO,EAAAC,EAAAC,cAACG,EAAA,EAAD,CAAMd,MAAOG,EAAWY,KAAMb,IACvCO,EAAAC,EAAAC,cAAA,SAAON,UAAWA,EAAWjB,MAAOA,EAAOK,SAAUI,KAAKmB,aAAcZ,YAAaA,EAAaW,KAAK,iBAlCvFE,sBAAd9B,iBACiB,CACrBW,cAAc,QACdM,YAAY,GACZb,aAAa,GACbS,MAAM,GACNC,QAAO,EACPC,KAAK,SACLC,UAAU,CACTe,MAAM,UAEPzB,SAAS,eA6BXN,EAAMgC,UAAY,CACjBpB,UAAUqB,IAAUC,OACpB9B,aAAa6B,IAAUC,OACvBjB,YAAYgB,IAAUC,OACtBrB,MAAMoB,IAAUE,OAChBnB,UAAUiB,IAAUE,OACpBrB,OAAOmB,IAAUG,KACjB9B,SAAS2B,IAAUI,KACnBpC,MAAMgC,IAAUC,OAChBhB,UAAUe,IAAUG,MAGNpC,UC7CTsC,UADLC,+OAEQ,CACPC,QAAQ,GACRvB,YAAY,qDAEW,SAACwB,EAAUC,GAClC,OAAGA,EAAUF,UAAYtC,EAAKmB,MAAMmB,uCAKxB,WACMtC,EAAKC,MAAhBwC,QACCC,IAAI,oCAEE,WAAM,IACbD,EAAWzC,EAAKC,MAAhBwC,QACAH,EAAWtC,EAAKmB,MAAhBmB,QACJA,GACFG,EAAQE,KAAR,WAAAC,OAAwBN,oCAGZ,SAAAvC,GACbC,EAAKM,SAAS,CACbgC,QAAQvC,0CAGU,SAAAA,GACnBC,EAAKM,SAAS,CACbS,YAAYhB,8DAGN,IACA8C,EAAUrC,KAAKP,MAAf4C,OADAC,EAEuBtC,KAAKW,MAA5BmB,EAFAQ,EAEAR,QAAQvB,EAFR+B,EAEQ/B,YACf,OACCK,EAAAC,EAAAC,cAAA,OAAKZ,UAAU,UACdU,EAAAC,EAAAC,cAAA,UAAQZ,UAAU,eACjBU,EAAAC,EAAAC,cAACG,EAAA,EAAD,CAAMsB,QAASvC,KAAKwC,WAAYtB,KAAK,eACrCN,EAAAC,EAAAC,cAAC2B,EAAD,CAAOjC,WAAW,EAAMD,YAAaA,EAAaL,UAAU,eAAeX,MAAOuC,EAAS1B,QAAQ,EAAMR,SAAUI,KAAK0C,cACxH9B,EAAAC,EAAAC,cAAA,QAAMyB,QAASvC,KAAK2C,aAAczC,UAAU,cAA5C,OAEDU,EAAAC,EAAAC,cAAC8B,EAAA,EAAD,CAAYrC,YAAaA,EAAasC,kBAAmB7C,KAAK6C,kBAAmBR,OAAQA,IACzFzB,EAAAC,EAAAC,cAACgC,EAAA,EAAD,cA3CiBC,kBAiDNnB","file":"6.js","sourcesContent":["import React,{PureComponent} from 'react'\nimport PropTypes from 'prop-types'\nimport classNames from 'classnames'\nimport Icon from '../icon'\nimport './index.less'\n\nclass Input extends PureComponent{\n\tstatic defaultProps = {\n\t\tclassPrefixer:'input',\n\t\tplaceholder:'',\n\t\tdefaultValue:'',\n\t\tstyle:{},\n\t\tcircle:true,\n\t\ticon:'search',\n\t\ticonStyle:{\n\t\t\tcolor:'silver'\n\t\t},\n\t\tonChange:() => {}\n\t}\n\tstate = {\n\t\tvalue:this.props.defaultValue\n\t}\n\thandleChange = ev => {\n\t\tconst {onChange} = this.props\n\t\tconst {target:{value}} = ev\n\t\tthis.setState({\n\t\t\tvalue\n\t\t})\n\t\tonChange && onChange(value)\n\t}\n\thasPropValue = () => {\n\t\treturn typeof this.props.value !== 'undifined' \n\t}\n\trender(){\n\t\tconst {classPrefixer,className,style,circle,icon,iconStyle,placeholder,autoFocus} = this.props\n\t\tconst classes = classNames(classPrefixer,className)\n\t\tconst {value} = this.state\n\t\treturn(\n\t\t\t<div style={{borderRadius:circle&&20,...style}} className={classes}>\n\t\t\t\t{icon && <Icon style={iconStyle} type={icon} />}\n\t\t\t\t<input autoFocus={autoFocus} value={value} onChange={this.handleChange} placeholder={placeholder} type=\"text\"/>\n\t\t\t</div>\n\t\t)\n\t}\n}\n\nInput.propTypes = {\n\tclassName:PropTypes.string,\n\tdefaultValue:PropTypes.string,\n\tplaceholder:PropTypes.string,\n\tstyle:PropTypes.object,\n\ticonStyle:PropTypes.object,\n\tcircle:PropTypes.bool,\n\tonChange:PropTypes.func,\n\tvalue:PropTypes.string,\n\tautoFocus:PropTypes.bool\n}\n\nexport default Input","import React,{Component} from 'react'\r\nimport classNames from 'classnames'\r\nimport {connect} from 'react-redux'\r\nimport { immutableRenderDecorator } from 'react-immutable-render-mixin'\r\nimport {NavLink} from 'react-router-dom'\r\nimport Icon from '../../components/icon'\r\nimport Player from '../../components/player'\r\nimport Authorized from '../../components/authorized'\r\nimport Input from '../../components/input'\r\nimport './index.less'\r\n\r\n\r\n@immutableRenderDecorator\r\nclass Search extends Component{\r\n\tstate = {\r\n\t\tkeyword:'',\r\n\t\tplaceholder:'歌手/歌名/拼音'\r\n\t}\r\n\tshouldComponentUpdate = (nextProps,nextState) => {\r\n\t\tif(nextState.keyword !== this.state.keyword){\r\n\t\t\treturn false\r\n\t\t}\r\n\t\treturn true\r\n\t}\r\n\thandleBack = () => {\r\n\t\tconst {history} = this.props\r\n\t\thistory.go(-1)\r\n\t}\r\n\thandleSearch = () => {\r\n\t\tconst {history} = this.props\r\n\t\tconst {keyword} = this.state\r\n\t\tif(keyword){\r\n\t\t\thistory.push(`/search/${keyword}`)\r\n\t\t}\r\n\t}\r\n\tinputChange = value => {\r\n\t\tthis.setState({\r\n\t\t\tkeyword:value\r\n\t\t})\r\n\t}\r\n\tplaceholderChange = value => {\r\n\t\tthis.setState({\r\n\t\t\tplaceholder:value\r\n\t\t})\r\n\t}\r\n\trender(){\r\n\t\tconst {routes} = this.props\r\n\t\tconst {keyword,placeholder} = this.state\r\n\t\treturn (\r\n\t\t\t<div className=\"search\">\r\n\t\t\t\t<header className=\"search-head\">\r\n\t\t\t\t\t<Icon onClick={this.handleBack} type=\"arrow-left\" />\r\n\t\t\t\t\t<Input autoFocus={true} placeholder={placeholder} className=\"search-input\" value={keyword} circle={true} onChange={this.inputChange} />\r\n\t\t\t\t\t<span onClick={this.handleSearch} className=\"search-btn\">搜索</span>\r\n\t\t\t\t</header>\r\n\t\t\t\t<Authorized placeholder={placeholder} placeholderChange={this.placeholderChange} routes={routes} />\r\n\t\t\t\t<Player />\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nexport default Search"],"sourceRoot":""}
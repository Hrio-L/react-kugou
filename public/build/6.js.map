{"version":3,"sources":["webpack:///./public/src/components/input/index.js","webpack:///./public/src/pages/search/index.js"],"names":["Input","value","_this","props","defaultValue","ev","onChange","target","setState","onFocus","_this$props","this","classPrefixer","className","style","circle","icon","iconStyle","placeholder","autoFocus","classes","classNames","state","react_default","a","createElement","objectSpread_default","borderRadius","components_icon","type","handleFocus","handleChange","PureComponent","color","propTypes","PropTypes","string","object","bool","func","Search","immutableRenderDecorator","keyword","btnState","window","addEventListener","onPress","nextProps","nextState","removeEventListener","keyCode","handleSearch","history","go","push","concat","routes","_this$state","onClick","handleBack","components_input","inputChange","authorized","placeholderChange","player","Component"],"mappings":"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","file":"6.js","sourcesContent":["import React,{PureComponent} from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport classNames from 'classnames'\r\nimport Icon from '../icon'\r\nimport './index.less'\r\n\r\nclass Input extends PureComponent{\r\n\tstatic defaultProps = {\r\n\t\tclassPrefixer:'input',\r\n\t\tplaceholder:'',\r\n\t\tdefaultValue:'',\r\n\t\tstyle:{},\r\n\t\tcircle:true,\r\n\t\ticon:'search',\r\n\t\ticonStyle:{\r\n\t\t\tcolor:'silver'\r\n\t\t},\r\n\t\tonChange:() => {}\r\n\t}\r\n\tstate = {\r\n\t\tvalue:this.props.defaultValue\r\n\t}\r\n\thandleChange = ev => {\r\n\t\tconst {onChange} = this.props\r\n\t\tconst {target:{value}} = ev\r\n\t\tthis.setState({\r\n\t\t\tvalue\r\n\t\t})\r\n\t\tonChange && onChange(value)\r\n\t}\r\n\thandleFocus = () => {\r\n\t\tconst {onFocus} = this.props\r\n\t\tonFocus && onFocus()\r\n\t}\r\n\thasPropValue = () => {\r\n\t\treturn typeof this.props.value !== 'undifined' \r\n\t}\r\n\trender(){\r\n\t\tconst {classPrefixer,className,style,circle,icon,iconStyle,placeholder,autoFocus} = this.props\r\n\t\tconst classes = classNames(classPrefixer,className)\r\n\t\tconst {value} = this.state\r\n\t\treturn(\r\n\t\t\t<div style={{borderRadius:circle&&20,...style}} className={classes}>\r\n\t\t\t\t{icon && <Icon style={iconStyle} type={icon} />}\r\n\t\t\t\t<input onFocus={this.handleFocus} autoFocus={autoFocus} value={value} onChange={this.handleChange} placeholder={placeholder} type=\"text\"/>\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nInput.propTypes = {\r\n\tclassName:PropTypes.string,\r\n\tdefaultValue:PropTypes.string,\r\n\tplaceholder:PropTypes.string,\r\n\tstyle:PropTypes.object,\r\n\ticonStyle:PropTypes.object,\r\n\tcircle:PropTypes.bool,\r\n\tonChange:PropTypes.func,\r\n\tonFocus:PropTypes.func,\r\n\tvalue:PropTypes.string,\r\n\tautoFocus:PropTypes.bool\r\n}\r\n\r\nexport default Input","import React,{Component} from 'react'\r\nimport classNames from 'classnames'\r\nimport {connect} from 'react-redux'\r\nimport { immutableRenderDecorator } from 'react-immutable-render-mixin'\r\nimport {NavLink} from 'react-router-dom'\r\nimport Icon from '../../components/icon'\r\nimport Player from '../../components/player'\r\nimport Authorized from '../../components/authorized'\r\nimport Input from '../../components/input'\r\nimport './index.less'\r\n\r\n\r\n@immutableRenderDecorator\r\nclass Search extends Component{\r\n\tstate = {\r\n\t\tkeyword:'',\r\n\t\tplaceholder:'歌手/歌名/拼音',\r\n\t\tbtnState:'search'\r\n\t}\r\n\tcomponentDidMount = () => {\r\n\t\twindow.addEventListener('keydown',this.onPress,false)\r\n\t}\r\n\tshouldComponentUpdate = (nextProps,nextState) => {\r\n\t\tif(nextState.keyword !== this.state.keyword){\r\n\t\t\treturn false\r\n\t\t}\r\n\t\treturn true\r\n\t}\r\n\tcomponentWillUnmount = () => {\r\n\t\twindow.removeEventListener('keydown',this.onPress,false)\r\n\t}\r\n\tonPress = ev => {\r\n\t\tif(ev.keyCode === 13){\r\n\t\t\tthis.handleSearch()\r\n\t\t}\r\n\t}\r\n\thandleBack = () => {\r\n\t\tconst {history} = this.props\r\n\t\thistory.go(-1)\r\n\t}\r\n\thandleSearch = () => {\r\n\t\tconst {history} = this.props\r\n\t\tconst {keyword} = this.state\r\n\t\tif(keyword){\r\n\t\t\thistory.push(`/search/${keyword}`)\r\n\t\t}\r\n\t}\r\n\thandleFocus = () => {\r\n\r\n\t}\r\n\thandleCancel = () => {\r\n\t\tthis.props.history.push('/search')\r\n\t}\r\n\tinputChange = value => {\r\n\t\tthis.setState({\r\n\t\t\tkeyword:value\r\n\t\t})\r\n\t}\r\n\tplaceholderChange = value => {\r\n\t\tthis.setState({\r\n\t\t\tplaceholder:value\r\n\t\t})\r\n\t}\r\n\trender(){\r\n\t\tconst {routes} = this.props\r\n\t\tconst {keyword,placeholder} = this.state\r\n\t\treturn (\r\n\t\t\t<div className=\"search\">\r\n\t\t\t\t<header className=\"search-head\">\r\n\t\t\t\t\t<Icon onClick={this.handleBack} type=\"arrow-left\" />\r\n\t\t\t\t\t<Input onFocus={this.handleFocus}  placeholder={placeholder} className=\"search-input\" value={keyword} circle={true} onChange={this.inputChange} />\r\n\t\t\t\t\t<span onClick={this.handleSearch} className=\"search-btn\">搜索</span>\r\n\t\t\t\t</header>\r\n\t\t\t\t<Authorized placeholder={placeholder} placeholderChange={this.placeholderChange} routes={routes} />\r\n\t\t\t\t<Player />\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nexport default Search"],"sourceRoot":""}